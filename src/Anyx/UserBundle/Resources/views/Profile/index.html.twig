{% extends '::main.html.twig' %}

{% block javascripts %}
	{{ parent() }}

	{% javascripts
		'@AnyxCrosswordBundle/Resources/public/js/jquery.min.js'
		'@AnyxCrosswordBundle/Resources/public/js/jquery-ui.min.js'
	
		'@AnyxCrosswordBundle/Resources/public/js/json2.js'
		'@AnyxCrosswordBundle/Resources/public/js/underscore.js'
		'@AnyxCrosswordBundle/Resources/public/js/backbone.js'
		
		'@AnyxCrosswordBundle/Resources/public/js/views/View.js'

		'@AnyxCrosswordBundle/Resources/public/js/models/Crossword.js'
		'@AnyxUserBundle/Resources/public/js/models/Crossword.js'
		'@AnyxUserBundle/Resources/public/js/models/CrosswordCollection.js'


		'@AnyxUserBundle/Resources/public/js/ProfileWorkspace.js'

		'@AnyxUserBundle/Resources/public/js/views/Profile.js'

	%}
	<script type="text/javascript" src="{{ asset_url }}"></script>
	{% endjavascripts %}
	
	<script type="text/javascript">
		$(function() {
			
			var workspace = new Anyx.Profile.Workspace({
				document	: window.document
			});

			var profileView = new Anyx.View.Profile({
				el			: $('#i-profile-menu'),
				template	: 't-profile-menu'
			});
			
			profileView.render({
				links		: workspace.routes,
				translation	: []
			});

			Backbone.history.start();
		});
	</script>			
	
{% endblock %}	

{% block page_title %}
	{%trans%}User profile{%endtrans%}
{% endblock %}
	
{% block body %}
	<h4>{% trans %}Created crosswords{%endtrans%}</h4>
	<h4>{% trans %}Solved crosswords{%endtrans%}</h4>
	
	<div id="i-profile-menu"></div>
	
	<script type="text/template" id="t-profile-menu">
		<ul>
			<% _.each(links, function( name, link ) { %>
			<li><a href="#<%=link%>"><%=name%></a></li>
			<% }); %>
		</ul>	
	</script>
	
{% endblock body %}
	